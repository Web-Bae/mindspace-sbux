"use strict";(()=>{var b=document.querySelectorAll('[rpa3="hidden"]'),c=document.querySelectorAll('[rpa3="image"]'),e=document.querySelectorAll('[rpa3="image-target"]'),o=document.querySelector('[rpa3="message-plate"]'),p=0,m=[2,3];ScrollTrigger.create({trigger:'[rpa3="plate-section"]',start:"top top+=1px",onEnter:y,once:!0});function y(){let a=Flip.getState(c);return c.forEach((r,t)=>{e[t].prepend(r)}),Flip.from(a,{ease:"power2.inOut",stagger:.05,onComplete:()=>{gsap.timeline().fromTo('[rpa3="plate-content"]',{opacity:0,yPercent:50},{opacity:1,yPercent:0,stagger:.1}).to(e,{border:"1px dashed #f2f0eb",stagger:.1},"<").to('[rpa3-plate-active="false"]',{opacity:.3},"<").fromTo('[rpa3="plate-stack"]',{scale:0,opacity:0},{scale:1,opacity:1}),w()}})}function w(){let a=Array.from(document.querySelectorAll('[rpa3="plate"]')),r="50%";Draggable.create(a,{bounds:window,onDrag:function(){let t=e.length;for(;--t>-1;)this.hitTest(e[t],r)?m.includes(t)?gsap.to(e[t],{border:"1px solid #f2f0eb",filter:"brightness(0)",duration:.5}):gsap.to(e[t],{border:"1px solid #f2f0eb",filter:"brightness(1.5)",duration:.5}):gsap.to(e[t],{border:"1px dashed #f2f0eb",filter:"brightness(1)",duration:.5})},onDragEnd:function(){let t=e.length,n=!1;for(;--t>-1;)if(this.hitTest(e[t],r)){let g=this.target.getAttribute("rpa3-answer"),d=e[t].getAttribute("rpa3-answer");if(g===d){p++;let s=this.target,i=e[t].getBoundingClientRect(),l=s.getBoundingClientRect(),f=i.left-l.left,u=i.top-l.top;gsap.timeline().to(s,{x:`+=${f}`,y:`+=${u}`,scale:0,duration:.5,ease:"power2.inOut"}).to(e[t],{border:"1px dashed #f2f0eb",filter:"brightness(1)",duration:.5},"<"),n=!0,p===a.length&&(o.querySelector('[rpa3="message"]').textContent="Good job!",gsap.timeline().set(o,{pointerEvents:"auto"}).to(o,{opacity:1}),b.forEach(h=>{h.removeAttribute("rpa3")}));break}else gsap.timeline().set(o,{pointerEvents:"auto"}).to(o,{opacity:1}).to(o,{opacity:0,onComplete:()=>{gsap.set(o,{pointerEvents:"none"})},delay:1}),gsap.to(this.target,{x:0,y:0,duration:.5})}n||(gsap.to(this.target,{x:0,y:0,scale:1,duration:.5}),gsap.to(e,{border:"1px dashed #f2f0eb",filter:"brightness(1)",duration:.5}))}})}})();
